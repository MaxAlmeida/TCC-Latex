

%% bare_jrnl.tex
%% V1.3
%% 2007/01/11
%% by Michael Shell
%% see http://www.michaelshell.org/
%% for current contact information.
%%
%% This is a skeleton file demonstrating the use of IEEEtran.cls
%% (requires IEEEtran.cls version 1.7 or later) with an IEEE journal paper.
%%
%% Support sites:
%% http://www.michaelshell.org/tex/ieeetran/
%% http://www.ctan.org/tex-archive/macros/latex/contrib/IEEEtran/
%% and
%% http://www.ieee.org/



% *** Authors should verify (and, if needed, correct) their LaTeX system  ***
% *** with the testflow diagnostic prior to trusting their LaTeX platform ***
% *** with production work. IEEE's font choices can trigger bugs that do  ***
% *** not appear when using other class files.                            ***
% The testflow support page is at:
% http://www.michaelshell.org/tex/testflow/


%%*************************************************************************
%% Legal Notice:
%% This code is offered as-is without any warranty either expressed or
%% implied; without even the implied warranty of MERCHANTABILITY or
%% FITNESS FOR A PARTICULAR PURPOSE! 
%% User assumes all risk.
%% In no event shall IEEE or any contributor to this code be liable for
%% any damages or losses, including, but not limited to, incidental,
%% consequential, or any other damages, resulting from the use or misuse
%% of any information contained here.
%%
%% All comments are the opinions of their respective authors and are not
%% necessarily endorsed by the IEEE.
%%
%% This work is distributed under the LaTeX Project Public License (LPPL)
%% ( http://www.latex-project.org/ ) version 1.3, and may be freely used,
%% distributed and modified. A copy of the LPPL, version 1.3, is included
%% in the base LaTeX documentation of all distributions of LaTeX released
%% 2003/12/01 or later.
%% Retain all contribution notices and credits.
%% ** Modified files should be clearly indicated as such, including  **
%% ** renaming them and changing author support contact information. **
%%
%% File list of work: IEEEtran.cls, IEEEtran_HOWTO.pdf, bare_adv.tex,
%%                    bare_conf.tex, bare_jrnl.tex, bare_jrnl_compsoc.tex
%%*************************************************************************

% Note that the a4paper option is mainly intended so that authors in
% countries using A4 can easily print to A4 and see how their papers will
% look in print - the typesetting of the document will not typically be
% affected with changes in paper size (but the bottom and side margins will).
% Use the testflow package mentioned above to verify correct handling of
% both paper sizes by the user's LaTeX system.
%
% Also note that the "draftcls" or "draftclsnofoot", not "draft", option
% should be used if it is desired that the figures are to be displayed in
% draft mode.
%
\documentclass[[10pt,journal]{IEEEtran}
\usepackage{blindtext}
\usepackage{graphicx}
\usepackage{cmap}	
\usepackage{lmodern}
\usepackage{booktabs, multicol, multirow}
\usepackage{graphicx,url}
\usepackage[T1]{fontenc}
%\usepackage[brazil]{babel}  
\usepackage[utf8]{inputenc}
\usepackage{float}
\usepackage{fixltx2e}
\usepackage{amsfonts}
\usepackage{amsmath}
\newcommand{\textoverline}[1]{$\overline{\mbox{#1}}$}
% Some very useful LaTeX packages include:
% (uncomment the ones you want to load)


% *** MISC UTILITY PACKAGES ***
%
%\usepackage{ifpdf}
% Heiko Oberdiek's ifpdf.sty is very useful if you need conditional
% compilation based on whether the output is pdf or dvi.
% usage:
% \ifpdf
%   % pdf code
% \else
%   % dvi code
% \fi
% The latest version of ifpdf.sty can be obtained from:
% http://www.ctan.org/tex-archive/macros/latex/contrib/oberdiek/
% Also, note that IEEEtran.cls V1.7 and later provides a builtin
% \ifCLASSINFOpdf conditional that works the same way.
% When switching from latex to pdflatex and vice-versa, the compiler may
% have to be run twice to clear warning/error messages.






% *** CITATION PACKAGES ***
%
%\usepackage{cite}
% cite.sty was written by Donald Arseneau
% V1.6 and later of IEEEtran pre-defines the format of the cite.sty package
% \cite{} output to follow that of IEEE. Loading the cite package will
% result in citation numbers being automatically sorted and properly
% "compressed/ranged". e.g., [1], [9], [2], [7], [5], [6] without using
% cite.sty will become [1], [2], [5]--[7], [9] using cite.sty. cite.sty's
% \cite will automatically add leading space, if needed. Use cite.sty's
% noadjust option (cite.sty V3.8 and later) if you want to turn this off.
% cite.sty is already installed on most LaTeX systems. Be sure and use
% version 4.0 (2003-05-27) and later if using hyperref.sty. cite.sty does
% not currently provide for hyperlinked citations.
% The latest version can be obtained at:
% http://www.ctan.org/tex-archive/macros/latex/contrib/cite/
% The documentation is contained in the cite.sty file itself.






% *** GRAPHICS RELATED PACKAGES ***
%
\ifCLASSINFOpdf
  % \usepackage[pdftex]{graphicx}
  % declare the path(s) where your graphic files are
  % \graphicspath{{../pdf/}{../jpeg/}}
  % and their extensions so you won't have to specify these with
  % every instance of \includegraphics
  % \DeclareGraphicsExtensions{.pdf,.jpeg,.png}
\else
  % or other class option (dvipsone, dvipdf, if not using dvips). graphicx
  % will default to the driver specified in the system graphics.cfg if no
  % driver is specified.
  % \usepackage[dvips]{graphicx}
  % declare the path(s) where your graphic files are
  % \graphicspath{{../eps/}}
  % and their extensions so you won't have to specify these with
  % every instance of \includegraphics
  % \DeclareGraphicsExtensions{.eps}
\fi
% graphicx was written by David Carlisle and Sebastian Rahtz. It is
% required if you want graphics, photos, etc. graphicx.sty is already
% installed on most LaTeX systems. The latest version and documentation can
% be obtained at: 
% http://www.ctan.org/tex-archive/macros/latex/required/graphics/
% Another good source of documentation is "Using Imported Graphics in
% LaTeX2e" by Keith Reckdahl which can be found as epslatex.ps or
% epslatex.pdf at: http://www.ctan.org/tex-archive/info/
%
% latex, and pdflatex in dvi mode, support graphics in encapsulated
% postscript (.eps) format. pdflatex in pdf mode supports graphics
% in .pdf, .jpeg, .png and .mps (metapost) formats. Users should ensure
% that all non-photo figures use a vector format (.eps, .pdf, .mps) and
% not a bitmapped formats (.jpeg, .png). IEEE frowns on bitmapped formats
% which can result in "jaggedy"/blurry rendering of lines and letters as
% well as large increases in file sizes.
%
% You can find documentation about the pdfTeX application at:
% http://www.tug.org/applications/pdftex





% *** MATH PACKAGES ***
%
%\usepackage[cmex10]{amsmath}
% A popular package from the American Mathematical Society that provides
% many useful and powerful commands for dealing with mathematics. If using
% it, be sure to load this package with the cmex10 option to ensure that
% only type 1 fonts will utilized at all point sizes. Without this option,
% it is possible that some math symbols, particularly those within
% footnotes, will be rendered in bitmap form which will result in a
% document that can not be IEEE Xplore compliant!
%
% Also, note that the amsmath package sets \interdisplaylinepenalty to 10000
% thus preventing page breaks from occurring within multiline equations. Use:
%\interdisplaylinepenalty=2500
% after loading amsmath to restore such page breaks as IEEEtran.cls normally
% does. amsmath.sty is already installed on most LaTeX systems. The latest
% version and documentation can be obtained at:
% http://www.ctan.org/tex-archive/macros/latex/required/amslatex/math/





% *** SPECIALIZED LIST PACKAGES ***
%
%\usepackage{algorithmic}
% algorithmic.sty was written by Peter Williams and Rogerio Brito.
% This package provides an algorithmic environment fo describing algorithms.
% You can use the algorithmic environment in-text or within a figure
% environment to provide for a floating algorithm. Do NOT use the algorithm
% floating environment provided by algorithm.sty (by the same authors) or
% algorithm2e.sty (by Christophe Fiorio) as IEEE does not use dedicated
% algorithm float types and packages that provide these will not provide
% correct IEEE style captions. The latest version and documentation of
% algorithmic.sty can be obtained at:
% http://www.ctan.org/tex-archive/macros/latex/contrib/algorithms/
% There is also a support site at:
% http://algorithms.berlios.de/index.html
% Also of interest may be the (relatively newer and more customizable)
% algorithmicx.sty package by Szasz Janos:
% http://www.ctan.org/tex-archive/macros/latex/contrib/algorithmicx/




% *** ALIGNMENT PACKAGES ***
%
%\usepackage{array}
% Frank Mittelbach's and David Carlisle's array.sty patches and improves
% the standard LaTeX2e array and tabular environments to provide better
% appearance and additional user controls. As the default LaTeX2e table
% generation code is lacking to the point of almost being broken with
% respect to the quality of the end results, all users are strongly
% advised to use an enhanced (at the very least that provided by array.sty)
% set of table tools. array.sty is already installed on most systems. The
% latest version and documentation can be obtained at:
% http://www.ctan.org/tex-archive/macros/latex/required/tools/


%\usepackage{mdwmath}
%\usepackage{mdwtab}
% Also highly recommended is Mark Wooding's extremely powerful MDW tools,
% especially mdwmath.sty and mdwtab.sty which are used to format equations
% and tables, respectively. The MDWtools set is already installed on most
% LaTeX systems. The lastest version and documentation is available at:
% http://www.ctan.org/tex-archive/macros/latex/contrib/mdwtools/


% IEEEtran contains the IEEEeqnarray family of commands that can be used to
% generate multiline equations as well as matrices, tables, etc., of high
% quality.


%\usepackage{eqparbox}
% Also of notable interest is Scott Pakin's eqparbox package for creating
% (automatically sized) equal width boxes - aka "natural width parboxes".
% Available at:
% http://www.ctan.org/tex-archive/macros/latex/contrib/eqparbox/





% *** SUBFIGURE PACKAGES ***
%\usepackage[tight,footnotesize]{subfigure}
% subfigure.sty was written by Steven Douglas Cochran. This package makes it
% easy to put subfigures in your figures. e.g., "Figure 1a and 1b". For IEEE
% work, it is a good idea to load it with the tight package option to reduce
% the amount of white space around the subfigures. subfigure.sty is already
% installed on most LaTeX systems. The latest version and documentation can
% be obtained at:
% http://www.ctan.org/tex-archive/obsolete/macros/latex/contrib/subfigure/
% subfigure.sty has been superceeded by subfig.sty.



%\usepackage[caption=false]{caption}
%\usepackage[font=footnotesize]{subfig}
% subfig.sty, also written by Steven Douglas Cochran, is the modern
% replacement for subfigure.sty. However, subfig.sty requires and
% automatically loads Axel Sommerfeldt's caption.sty which will override
% IEEEtran.cls handling of captions and this will result in nonIEEE style
% figure/table captions. To prevent this problem, be sure and preload
% caption.sty with its "caption=false" package option. This is will preserve
% IEEEtran.cls handing of captions. Version 1.3 (2005/06/28) and later 
% (recommended due to many improvements over 1.2) of subfig.sty supports
% the caption=false option directly:
%\usepackage[caption=false,font=footnotesize]{subfig}
%
% The latest version and documentation can be obtained at:
% http://www.ctan.org/tex-archive/macros/latex/contrib/subfig/
% The latest version and documentation of caption.sty can be obtained at:
% http://www.ctan.org/tex-archive/macros/latex/contrib/caption/




% *** FLOAT PACKAGES ***
%
%\usepackage{fixltx2e}
% fixltx2e, the successor to the earlier fix2col.sty, was written by
% Frank Mittelbach and David Carlisle. This package corrects a few problems
% in the LaTeX2e kernel, the most notable of which is that in current
% LaTeX2e releases, the ordering of single and double column floats is not
% guaranteed to be preserved. Thus, an unpatched LaTeX2e can allow a
% single column figure to be placed prior to an earlier double column
% figure. The latest version and documentation can be found at:
% http://www.ctan.org/tex-archive/macros/latex/base/



%\usepackage{stfloats}
% stfloats.sty was written by Sigitas Tolusis. This package gives LaTeX2e
% the ability to do double column floats at the bottom of the page as well
% as the top. (e.g., "\begin{figure*}[!b]" is not normally possible in
% LaTeX2e). It also provides a command:
%\fnbelowfloat
% to enable the placement of footnotes below bottom floats (the standard
% LaTeX2e kernel puts them above bottom floats). This is an invasive package
% which rewrites many portions of the LaTeX2e float routines. It may not work
% with other packages that modify the LaTeX2e float routines. The latest
% version and documentation can be obtained at:
% http://www.ctan.org/tex-archive/macros/latex/contrib/sttools/
% Documentation is contained in the stfloats.sty comments as well as in the
% presfull.pdf file. Do not use the stfloats baselinefloat ability as IEEE
% does not allow \baselineskip to stretch. Authors submitting work to the
% IEEE should note that IEEE rarely uses double column equations and
% that authors should try to avoid such use. Do not be tempted to use the
% cuted.sty or midfloat.sty packages (also by Sigitas Tolusis) as IEEE does
% not format its papers in such ways.


%\ifCLASSOPTIONcaptionsoff
%  \usepackage[nomarkers]{endfloat}
% \let\MYoriglatexcaption\caption
% \renewcommand{\caption}[2][\relax]{\MYoriglatexcaption[#2]{#2}}
%\fi
% endfloat.sty was written by James Darrell McCauley and Jeff Goldberg.
% This package may be useful when used in conjunction with IEEEtran.cls'
% captionsoff option. Some IEEE journals/societies require that submissions
% have lists of figures/tables at the end of the paper and that
% figures/tables without any captions are placed on a page by themselves at
% the end of the document. If needed, the draftcls IEEEtran class option or
% \CLASSINPUTbaselinestretch interface can be used to increase the line
% spacing as well. Be sure and use the nomarkers option of endfloat to
% prevent endfloat from "marking" where the figures would have been placed
% in the text. The two hack lines of code above are a slight modification of
% that suggested by in the endfloat docs (section 8.3.1) to ensure that
% the full captions always appear in the list of figures/tables - even if
% the user used the short optional argument of \caption[]{}.
% IEEE papers do not typically make use of \caption[]'s optional argument,
% so this should not be an issue. A similar trick can be used to disable
% captions of packages such as subfig.sty that lack options to turn off
% the subcaptions:
% For subfig.sty:
% \let\MYorigsubfloat\subfloat
% \renewcommand{\subfloat}[2][\relax]{\MYorigsubfloat[]{#2}}
% For subfigure.sty:
% \let\MYorigsubfigure\subfigure
% \renewcommand{\subfigure}[2][\relax]{\MYorigsubfigure[]{#2}}
% However, the above trick will not work if both optional arguments of
% the \subfloat/subfig command are used. Furthermore, there needs to be a
% description of each subfigure *somewhere* and endfloat does not add
% subfigure captions to its list of figures. Thus, the best approach is to
% avoid the use of subfigure captions (many IEEE journals avoid them anyway)
% and instead reference/explain all the subfigures within the main caption.
% The latest version of endfloat.sty and its documentation can obtained at:
% http://www.ctan.org/tex-archive/macros/latex/contrib/endfloat/
%
% The IEEEtran \ifCLASSOPTIONcaptionsoff conditional can also be used
% later in the document, say, to conditionally put the References on a 
% page by themselves.



\usepackage{anyfontsize}

% *** PDF, URL AND HYPERLINK PACKAGES ***
%
%\usepackage{url}
% url.sty was written by Donald Arseneau. It provides better support for
% handling and breaking URLs. url.sty is already installed on most LaTeX
% systems. The latest version can be obtained at:
% http://www.ctan.org/tex-archive/macros/latex/contrib/misc/
% Read the url.sty source comments for usage information. Basically,
% \url{my_url_here}.





% *** Do not adjust lengths that control margins, column widths, etc. ***
% *** Do not use packages that alter fonts (such as pslatex).         ***
% There should be no need to do such things with IEEEtran.cls V1.6 and later.
% (Unless specifically asked to do so by the journal or conference you plan
% to submit to, of course. )


% correct bad hyphenation here
\hyphenation{op-tical net-works semi-conduc-tor}


\begin{document}
%
% paper title
% can use linebreaks \\ within to get better formatting as desired
\title{Um Estudo da Interferência Entre Máquinas Virtuais em seus
Desempenhos \\~\\ \textit{A Study of Interference Between Virtual Machines in Their Performances}}
%\title{Um Estudo da Interferência Entre Máquinas Virtuais em seus
%Desempenhos}
%
%
% author names and IEEE memberships
% note positions of commas and nonbreaking spaces ( ~ ) LaTeX will not break
% a structure at a ~ so this keeps an author's name from being broken across
% two lines.
% use \thanks{} to gain access to the first footnote area
% a separate \thanks must be used for each paragraph as LaTeX2e's \thanks
% was not built to handle multiple paragraphs
%

\author{
\begin{tabular}[t]{c c c} 
\fontsize{11}{12}\textbf{Maxwell Almeida Santos}  & \textbf{Paulo Roberto Miranda Meirelles} & \textbf{Rafael Reggiani Manzo} \\
Faculdade UnB Gama & Faculdade UnB Gama & Instituto de Matemática e Estatística  \\ 
Universidade de Brasília & Universidade de Brasília  & Universidade de São Paulo\\
Brasília, Brasil & Brasília, Brasil & São Paulo, Brasil \\
llewxam150@gmail.com & paulormm@unb.br  & rr.manzo@gmail.com\\
\end{tabular}
}


% note the % following the last \IEEEmembership and also \thanks - 
% these prevent an unwanted space from occurring between the last author name
% and the end of the author line. i.e., if you had this:
% 
% \author{....lastname \thanks{...} \thanks{...} }
%                     ^------------^------------^----Do not want these spaces!
%
% a space would be appended to the last name and could cause every name on that
% line to be shifted left slightly. This is one of those "LaTeX things". For
% instance, "\textbf{A} \textbf{B}" will typeset as "A B" not "AB". To get
% "AB" then you have to do: "\textbf{A}\textbf{B}"
% \thanks is no different in this regard, so shield the last } of each \thanks
% that ends a line with a % and do not let a space in before the next \thanks.
% Spaces after \IEEEmembership other than the last one are OK (and needed) as
% you are supposed to have spaces between the names. For what it is worth,
% this is a minor point as most people would not even notice if the said evil
% space somehow managed to creep in.



% The paper headers
%\markboth{Journal of \LaTeX\ Class Files,~Vol.~6, No.~1, January~2007}%
%{Shell \MakeLowercase{\textit{et al.}}: Bare Demo of IEEEtran.cls for Journals}
% The only time the second header will appear is for the odd numbered pages
% after the title page when using the twoside option.
% 
% *** Note that you probably will NOT want to include the author's ***
% *** name in the headers of peer review papers.                   ***
% You can use \ifCLASSOPTIONpeerreview for conditional compilation here if
% you desire.




% If you want to put a publisher's ID mark on the page you can do it like
% this:
%\IEEEpubid{0000--0000/00\$00.00~\copyright~2007 IEEE}
% Remember, if you use this you must call \IEEEpubidadjcol in the second
% column for its text to clear the IEEEpubid mark.



% use for special paper notices
%\IEEEspecialpapernotice{(Invited Paper)}




% make the title area
\maketitle

\begin{resumo}
Com o recente crescimento da computação em nuvem, tornaram-se recorrentes questionamentos feitos com relação a perda de desempenho em ambientes virutalizados. Com isso, a partir de trabalhos já realizados, esse trabalho propõe a aplicação de um estudo de interferência de desempenho em máquinas virtuais. Para coleta de dados, foram desenvolvidos procedimentos bem como, foram definidas ferramentas tipicamente utilizadas para medição de desempenho em sistemas computacionais.
Os resultados deste trabalho mostram que o grau de interferência é variável dado o tipo de aplicação que está sendo executada nas máquinas virtuais. E que, com os dados obtidos é possível aplicar modelos estatísticos para predição de desempenho de uma aplicação.
\end{resumo}

\begin{abstract}
%\boldmath
With the recent growth of cloud computing, there have been recurrent queries about performance loss in virutalized environments. Based on related works, this work proposes the application of a performance interference study on virtual machines using the kvm as hypervisor. For data collection, procedures were developed, as well as defined using tools typically used for measuring performance in computer systems. The results of this work show that the degree interferenceis variable given the type of application that is running in virtual machines. In addition,with the data, it is possible to apply statistical models for performance prediction of anapplication.
\end{abstract}


% IEEEtran.cls defaults to using nonbold math in the Abstract.
% This preserves the distinction between vectors and scalars. However,
% if the journal you are submitting to favors bold math in the abstract,
% then you can use LaTeX's standard command \boldmath at the very start
% of the abstract to achieve this. Many IEEE journals frown on math
% in the abstract anyway.

% Note that keywords are not normally used for peerreview papers.
\begin{IEEEkeywords}
Cloud Computing; Virtualization; Performance Systems; KVM.
\end{IEEEkeywords}






% For peer review papers, you can put extra information on the cover
% page as needed:
% \ifCLASSOPTIONpeerreview
% \begin{center} \bfseries EDICS Category: 3-BBND \end{center}
% \fi
%
% For peerreview papers, this IEEEtran command inserts a page break and
% creates the second title. It will be ignored for other modes.
\IEEEpeerreviewmaketitle



\section{Introdução}
Ultimamente, devido a tendências como computação em nuvem, TI verde\footnotemark[1] e a consolidação de servidores, a virtualização vem ganhando cada vez mais importância. Antigamente usada para uso mais eficiente de recursos físicos de \textit{mainframes}, hoje em dia a virtualização é novamente utilizada para executar múltiplas máquinas virtuais em uma infraestrutura compartilhada, aumentando dessa forma a utilização de recursos, promovendo flexibilidade e centralizando a administração \cite{huber2011}. Segundo \cite{popiolek2012}, essa popularidade se deve também ao amplo uso de infraestruturas distribuídas por parte de sistemas computacionais modernos, o que colabora para o desenvolvimento de aplicações colaborativas e promove o compartilhamento de recursos remotos.

Neste contexto, a computação em nuvem, alinhada à virtualização, permite um conjunto de servidores físicos disponibilizar dezenas ou centenas de máquinas virtuais. Desse modo, proporciona-se aumento na escalabilidade, maximizando o uso de recursos  \cite{popiolek2012}. Entretanto, antes de migrar aplicações de ambientes não virtuais para ambientes virtuais, é necessário entender como será o desempenho dessas aplicações nesse novo ambiente \cite{benevuto2006}. A adoção de servidores virtualizados vem com o aumento de custo na complexidade e dinâmica do sistema. O aumento da dinâmica é causada pela falta de controle direto sobre o hardware, pelas interações complexas entre as aplicações e cargas de trabalho que compartilham os mesmos recursos físicos, introduzindo novos desafios em sistemas de gestão. O aumento da complexidade é causada pela introdução de recursos virtuais que por sua vez causa uma diferença entre a alocação de recursos físicos e lógicos \cite{huber2011}.

De acordo com \cite{koh2007}, observa-se que as tecnologias atuais que possibilitam a criação de máquinas virtuais não fornecem um isolamento efetivo. Enquanto o \textit{hypervisor} ( software responsável pela disponibilização e gerenciamento de máquinas virtuais), reparte os recursos e os aloca para as VMs, o comportamento de cada VM ainda pode afetar o desempenho das outras de maneira negativa, devido ao uso de recursos compartilhados no sistema.

A partir do que foi abordado até agora, entende-se que é fundamental compreender os fatores que impactam no desempenho de ambientes virtualizados, bem como quantificar e avaliar o desempenho de aplicações em tais ambientes para que possa implantá-las e configurá-las adequadamente. Tendo isso em vista, torna-se importante o conhecimento de ferramentas e técnicas ou metodologias que auxiliem nas atividades relacionadas a análise de desempenho em ambientes virtualizados. 

Assim, neste trabalho é aplicado um estudo de interferência de desempenho em ambientes virtuais ocasionado por um conjunto de aplicações. Através das métricas de desempenho a nível de sistema foi possível observar que determinadas aplicações, dado seu perfil de execução, ocasionam maior grau de interferência do que outras quando executadas em máquinas virtuais que compartilham o mesmo servidor. Além disso, a partir dos dados coletados, foi possível aplicar mecanismos de predição de desempenho em função da carga de trabalho que está sendo aplicada. Estes mecanismos de predição foram desenvolvidos por \cite{koh2007}. Além dos mecanismos desenvolvido por \cite{koh2007}, neste trabalho é aplicado análise de regressão polinomial baseada nestes mecanismos. Um comparativo entre esses mecanismos foi feito, sendo possível mostrar que a análise de regressão polinomial é capaz de predizer o desempenho com taxas de erros menores do que os mecanismos apresentados no trabalho de \cite{koh2007}. 
 
\footnotetext[1]{A "TI Verde"  refere-se ao conjunto de políticas e práticas, que tem como intuito garantir que a atividade de uma empresa
produza o menor impacto ambiental possível através de menores gastos com energia e economia de matéria primas utilizadas
na fabricação de \textit{hardware} e \textit{software}, por exemplo\cite{brayner}.}

%\subsection{Subsection Heading Here}
%\blindtext

\section{Ambiente de Testes}\label{sec:ambiente_teste}

Para o estudo proposto por este trabalho foi definido um  ambiente de testes que consiste no uso de máquinas virtuais com aplicações voltadas para realização
de testes de \textit{benchmark}. Tais aplicações foram definidas a partir do trabalho de \cite{koh2007}, tendo essas sido escolhidas visando o estresse de vários aspectos de sistema e de \textit{hardware}. A fim de se ter comodidade na criação e destruição dessas máquinas virtuais foi utilizado o OpenNebula como ferramenta de computação em nuvem e como \textit{hypervisor} foi utilizado o \textit{kvm}. As máquinas virtuais possuíam, como configuração, sistema operacional \textit{Centos 7}, espaço em disco de 15GB e 1GB de memória \textit{RAM}. Em um primeiro momento as aplicações foram instaladas e testadas de modo que se pudesse observar quais são os comandos utilizados para funcionamento das mesmas, em seguida foram criados \textit{snapshots} das máquinas virtuais com o auxílio provido pelo \textit{OpenNebula}. O servidor físico onde as máquinas virtuais foram criadas possui as seguintes configurações:
\begin{itemize}
	\item Servidor em \textit{rack} \textit{Dell PowerEdge r620.}
	\item 24 processadores \textit{Intel Xeon }, 2.0GHz.
	\item 64 GB de Memória DDR3.
	\item 2 TB SATA HDD.
	\item 4 interfaces \textit{EThernet 10/100/1000-BaseT.}
\end{itemize} 

Entre as aplicações escolhidas estão típicas provedoras de \textit{stress} computacional no cotidiano, tais como compilação de código fonte, compressão e encriptação de arquivos e processamento de imagens. Há também ferramentas voltadas para geração de testes de \textit{benchmark} tais como \textit{Cachebench} e \textit{AIM Benchmark suite}. A seguir é feita uma breve descrição das ferramentas utilizadas.

\begin{itemize}
\item \textit{Add\_double} \footnotemark[2]                                                                                                                               é um dos vários programas de testes de carga existentes no \textit{AIM benchmark suite}. É responsável por medir operações de adição de dupla precisão.

\item \textit{Bzip2} \footnotemark[3] e \textit{Gzip} \footnotemark[4] são aplicações típicas para compressão e descompressão de arquivos. Com uso de arquivos grandes é possível gerar cargas de trabalhos usando essas ferramentas.

\item \textit{Ccrypt} \footnotemark[5] é uma ferramenta de código aberto voltada para encriptação e desencriptação de arquivos. Foi desenvolvido com o intuito de substituir a aplicação padrão do \textit{unix}, o \textit{crypt}.

\item \textit{Cachebench} \footnotemark[6] é uma ferramenta de \textit{benchmark} de código aberto desenvolvida para avaliar o desempempenho do subsistema de memória. Atualmente é integrado \textit{LLCbench} (\textit{Low-Level Characterization Benchmarks}).

\item \textit{Cat} e \textit{Grep} são comandos padrões em sistemas \textit{Linux} que são responsáveis por gerar requisições de leitura no disco. \textit{Cat} é reponsável por mostrar conteúdo de arquivos bem como combina-los e criar outros novos. Enquanto que \textit{Grep} é utilizado para busca de palavras em arquivos texto.

\item \textit{cp} e \textit{dd} são outros comandos padrões em sistemas \textit{Linux}, neste caso, responsáveis por gerar atividades voltadas para escrita de disco. \textit{cp} é utilizado para copiar arquivos e diretórios. O comando \textit{dd} é utilizado para criação de imagens e cópias de arquivos.

\item \textit{Iozone} \footnotemark[7] é uma ferramenta de \textit{benchmark} utilizada, voltada para testes de operações de disco, tais como leitura e escrita.

\item \textit{Make} é um comando nativo em sistemas operacionais \textit{Linux}, responsável por automatizar um conjunto de procedimentos, principalmente  a compilação de programas grandes que possuem vários arquivos com códigos fontes. 

\item \textit{Povray} \footnotemark[8] é uma ferramenta de codigo aberto voltada para processamento de imagens com gráficos 3-D.

\end{itemize}

\footnotetext[2]{AIM Benchmark (http://sourceforge.net/projects/aimbench)}
\footnotetext[3] {Bzip2 (http://www.bzip.org/)}
\footnotetext[4]{Gzip (http://www.gzip.org/)}
\footnotetext[5]{Ccrypt (http://ccrypt.sourceforge.net/}
\footnotetext[6]{Cachebench memory benchmark (http://icl.cs.utk.edu/projects/llcbench/cachebench.html)}
\footnotetext[7]{IOzone Filesystem Benchmark (http://www.iozone.org)}
\footnotetext[8]{The Persistence of Vision Raytracer (http://www.povray.org)}

\section{Cálculo da Interferência}
Os procedimentos adotados para o cálculo da interferência seguem os propostos no trabalho de \cite{koh2007}. Desse modo, duas máquinas virtuais, com as especificações e aplicações de \textit{benchmark} apresentadas na Seção \ref{sec:ambiente_teste}, são criadas em um servidor utilizando \textit{hypervisor} \textit{KVM}. Cada máquina virtual, denominadas \textit{'dom1'} e \textit{'dom2'} respectivamente, executa uma das aplicações de \textit{benchmarking}. 

Uma aplicação executando em \textit{dom1} é chamada de aplicação \textit{foreground}, e a que estiver executando em \textit{dom2} é a aplicação \textit{background}. Por questões de notação uma aplicação \textit{foreground} executando contra uma aplicação \textit{background} é denotada como F@B. Um dos procedimentos adotados é garantir que a aplicação \textit{background} mantenha sua execução até que a aplicação \textit{foreground} termine. Para o segundo e terceiro experimento cada aplicação é executada de modo que seja tanto \textit{background} quanto \textit{foreground}, sendo construída dessa forma uma matriz \textit{n x n} com todos os possíveis resultados. %Destaca-se os dados referentes a interferência são mensurados em uma aplicação \textit{foreground}.

A fim de observar o quanto o desempenho é afetado pela interferência gerada por uma aplicação executada em outra máquina virtual, é feita a medida da degradação a partir do desempenho padrão de uma aplicação, essa medida denomina-se pontuação normalizada. Assim, para calcular a pontuação normalizada de uma aplicação, primeiro é definida a pontuação de desempenho inativa que é a pontuação de uma aplicação quando executada contra uma máquina virtual inativa, ou seja sem nenhuma aplicação executando. Então, em seguida é feito o cálculo da pontuação normalizada de uma aplicação F contra B, dividindo a pontuação de desempenho de F contra B pela pontuação de desempenho inativa de F. Assim define-se NS(F@B), como sendo a pontuação normalizada de F contra B, sendo PD(F@B) a pontuação de desempenho de uma aplicação F contra uma aplicação B,

\begin{equation}
\label{eq:degradation}
NS(F@B) = PD(F@B)/PD(F@Inativo)
\end{equation}

A partir disso, é feito cálculo do desempenho combinado de duas aplicações, F e B, em cada máquina virtual.

\begin{equation}
\label{eq:combined}
NS ( F + B ) = NS ( F @ B ) + NS ( B @ F )
\end{equation}
Sendo NS(F@B) e  NS(B@F) medidos em dois testes separados. Para medida de desempenho, são utilizadas as pontuações geradas pelas próprias aplicações. Entretanto, algumas aplicações, aquelas que não são voltadas para \textit{benchmark}, não geram pontuações explícitas. Para essas aplicações, fora definido como o inverso do tempo necessário para sua execuação, como pontuação de desempenho. Na Tabela \ref{table-aplications} é apresentado o maior recurso utilizado bem como a medida de desempenho utilizada para cada ferramenta.

\begin{table}[!htb]
\centering
\caption{Aplicações utilizadas para geração de cargas e trabalho}
\label{table-aplications}
\resizebox{0.45\textwidth}{!}{
\begin{tabular}{|l|c|c|}
\hline
Nome        & \multicolumn{1}{l|}{Maior Recurso Utilizado} & \multicolumn{1}{l|}{Medida de Desempenho} \\ \hline
Add\_double & CPU                                          & Pontuação                                  \\ \hline
Bzip2       & Misto                                        & Tempo                                      \\ \hline
Cat         & Disco                                        & Tempo                                      \\ \hline
Cachebench  & Memória                                      & Pontuação                                  \\ \hline
Ccrypt      & Misto                                        & Tempo                                      \\ \hline
Cp          & Disco                                        & Tempo                                      \\ \hline
Dd          & Disco                                        & Tempo                                      \\ \hline
Grep        & Disco                                        & Tempo                                      \\ \hline
Gzip        & Misto                                        & Tempo                                      \\ \hline
Iozone      & Disco                                        & Pontuação                                  \\ \hline
Make        & Misto                                        & Tempo                                      \\ \hline
Povray      & Misto                                        & Tempo                                      \\ \hline
\end{tabular}}
\end{table}

Dessa forma, uma pontuação normalizada(F@B) próxima ou igual a 1 é um resultado que indica que o desempenho de uma aplicação \textit{F} contra \textit{B} sofreu baixa degradação.

\section{Métricas de desempenho a nível de sistema}
No trabalho de \cite{koh2007} são utilizadas métricas de desempenho a nível de sistema ( denominadas \textit{System-level Workload Characteristics}) de forma a analisar melhor o grau de interferência em diversos aspectos de sistema na máquina virtual. Segundo \cite{koh2007}, o fato desse tipo de métrica de desempenho ser independente de qualquer tipo de microarquitetura subjacente, garante que seja possível ser feitas comparações através dos diferentes tipos de servidores físicos.

%No trabalho de \cite{koh2007} essas métricas são obtidas através de um \textit{hypervisor} instrumentalizado, ou seja no próprio \textit{hypervisor} há mecanismos responsáveis pela coleta dessas métricas de modo que elas são obtidas de fora da máquina virtual, possibilitando assim que a interferência da coleta seja praticamente nula. A partir disso, fora feita uma investigação de como o \textit{hypervisor} utilizado, o \textit{KVM}, ou a plataforma em nuvem \textit{OpenNebula} poderia prover essas métricas sem que fosse necessário qualquer tipo de interferência na máquina virtual para coleta desses dados.

Para o \textit{KVM} chegou-se a ferramentas como o \textit{iperf-kvm} e \textit{kvm-stat}. Entretanto, as informações apresentadas por essas ferramentas não eram claras e, para o caso do \textit{kvm-stat}, não detalhava por máquina virtual e sim para  \textit{hypervisor} inteiro. Mesmo no \textit{OpenNebula} as informações apresentadas consistiam em uso de espaço em disco, memória utilizada e quantidade de \textit{CPU} alocado por máquina virtual, não sendo essas informações relevantes para o estudo proposto. Assim, a abordagem escolhida foi o uso de uma ferramentas típica para monitoramento de desempenho: \textit{iostat} para operações de disco e o \textit{mpstat} para \textit{CPU}. %o \textit{Munin} em conjunto com o \textit{Cachegrind} e o \textit{Virsh}. A seguir são apresentadas as métricas coletadas neste trabalho.

\begin{itemize}
\item \textbf{Porcentagem de uso do \textit{CPU}}(\textit{cpuutil}): Porcantagem de utilização de \textit{CPU} durante a execução de uma aplicação. É obtida através da aplicação \textit{mpstat}.

\item \textbf{Requisições de escrita e leitura de disco por segundo }(\textit{writes\_issued, reads\_issued}) e \textbf{Tempo gasto para escrita e leitura do disco}(\textit{time\_writing, time\_reading}): Quantidade de requisições no disco e o tempo para operações de escrita e leitura são bons indicadores de operações de entrada e saída. Esses valores são coletados utilizando o \textit{iostat}.

\end{itemize}

\section{Análise de dados}

A análise dos dados obtidos referentes às métricas de desempenho e às pontuações normalizadas obtidas pelas aplicações foi baseada no uso de técnicas de análise multivariada. A análise multivariada consiste em um conjunto de técnicas estatísticas que tem como intuito dar a possibilidade de inferir padrões ou explicações para um experimento com uma grande quantidade de dados. %Sua área de atuação envolve \cite{johnson1988}:
%\begin{itemize}
 % \item \textbf{Redução de dados ou simplificação estrutural}: O fenômento ou experimento estudado é representado o mais simples possível sem que haja perda de informação valiosa. Dessa forma, espera-se que a interpretação, com os dados reduzidos, seja facilitada.
  
  %\item \textbf{Ordemanemto e Agrupamento}: Os dados obtidos são agrupados de acordo com as semelhanças existentes em suas características. Para isso, podem ser necessárias a criação de classificações, dada as características dos dados, bem definidas.
  
  %\item \textbf{Investigação de dependência entre as variáveis}: Trata de verificar a relação (independência ou dependência) entre todas as variáveis e como elas acontecem.
  
  %\item \textbf{Predição}: As relações entre as variáveis devem ser determinadas com o intuito de predizer os valores de uma ou mais variáveis na base da observação de outras variáveis.
  
 % \item \textbf{Construção e Teste de Hipótese}: Hipóteses estatísticas formuladas em função de dados multivariados são testadas. Isso pode ser utilizada para validar suposiçoes ou reforçar convincçoes anteriores.
%\end{itemize}

Dessa forma, neste trabalho as técnicas de análise multivariada foram aplicadas com o intuito de predizer o desempenho das aplicações. As técnicas utilizadas foram média ponderada com o auxílio da análise por componente principal (PCA), Regressão Linear e Regressão Polinomial. Destaca-se que a média ponderada não é uma técnica de análise multivariada mas ainda assim fora feito o uso, para agrupamento dos dados, da análise por componente principal. Para realização da análise por componente principal foi utilizada a ferramenta \textit{Scilab} \footnotemark[9] com o auxílio da biblioteca \textit{FACT} \footnotemark[10]. Já para a análise de regressão linear e polinomial foi utilizada uma ferramenta de análise statística chamada \textit{R} \footnotemark[11].

\footnotetext[9]{http://www.scilab.org/}
\footnotetext[10]{https://atoms.scilab.org/toolboxes/FACT/0.9}
\footnotetext[11]{https://www.r-project.org/}


De maneira geral, escolheu-se uma aplicação U a partir do conjunto de aplicações definidos anteriormente. Em seguida, ao utilizar o restante das aplicações como um conjunto de referência (B1, B2, ..., Bn), foi feita a predição da pontuação normalizada de U contra as outras aplicações (i.e, NS(U@B1), NS(U@B2), ... NS(U@Bn)), das aplicações contra U (i.e, NS(B1@U),
NS(B2@U), ... NS(Bn@U)) e de U contra ele mesmo (NS(U@U)). Assim, para cada técnica aplicada, foi comparado a pontuação predita com a pontuação real medida. Para avaliação desse comparativo são calculados a média, mediana e o maior erro da predição obtido, onde o cálculo do erro da predição é feito pela equação \ref{eq:predict_error}. Esse procedimento foi feito com todas as aplicações definidas.  
\begin{equation}
\label{eq:predict_error}
\textrm{Erro da predição} = \frac{|\textrm{Pontuação real - Pontuação predita}|}{\textrm{Pontuação real}}
\end{equation}

\subsection{Método da Média Ponderada}
O método da média ponderada é baseado na similaridade entre duas aplicações. Dessa forma, para calcular a similaridade, primeiro é feito o cálculo da distância dos vetores de métricas de desempenho de duas aplicações. Dada o número de dimensões desse vetor ( 5 métricas de desempenho a nível de sistema), foi aplicada uma análise de componente princiapl ( PCA ) de modo que se reduzisse a dimensionalidade dos dados sem perda significativa.

Assim, embora as \textit{p} variáveis de um vetor de dados sejam necessárias para reproduzir a total variabilidade de um sistema, frequetemente muito dessa variabilidade pode ser representada por uma pequena quantidade \textit{k} de componentes principais. Dessa forma, os \textit{k} componentes principais podem substituir  as \textit{p} variáveis iniciais, reduzindo o conjunto de dados necessários para a análise \cite{johnson1988}.

Uma vez que os dados coletados foram convertidos pela análise de componentes principal, foi feita a escolha dos componentes que representam a maior variabilidade desses dados. Com isso, através dos dados obtidos, foram escolhidos três componentes que representam 94\% da variança total ( Cada componente representa 53,8\%, 24\%, 16,3\% da variança, respectivamente).

Para cálcular a predição da pontuação de U@Bn, adota-se o seguinte procedimento apresentado no trabalho de \cite{koh2007}. Primeiro, em cima dos dados transferidos para PCA, foi calculada a distância euclidiana do ponto desejado, U@Bn, para todos os resultados de \textit{benchmark} obtidos e então foram escolhidos os N pontos de dados mais próximos e definidos como um conjunto dos mais próximos. A Tabela \ref{tab:distance} apresenta, de forma resumida, as distâncias de todos os possíveis resultados. Dessa forma, como exemplo, o ponto mais próximo de Crypt @ Bzip2 seria Gzip @ Gzip que possui uma distância no valor próximo de 0.57.

\begin{table}[h]
\centering
\caption{Distâncias entre todos os resultados possíveis em um espaço convertido por PCA}
\resizebox{0.5\textwidth}{!}{
\label{tab:distance}
\begin{tabular}{|l|l|l|l|l|l|l|l|}
\hline
             & Bzip2 @bzip2 & Crypt @bzip2 & Cat@bzip2 & cp@bzip2  & \multirow{19}{*}{…} & Grep @ gzip         & Gzip @ gzip         \\ \cline{1-5} \cline{7-8} 
Bzip2 @bzip2 & 0            & 1.102869     & 2.4386345 & 2.4250186 &                     & 1.2633136           & 0.5690718           \\ \cline{1-5} \cline{7-8} 
Crypt @bzip2 & 1.102869     & 0            & 2.6056928 & 2.5741534 &                     & 0.5302071           & 1.6175143           \\ \cline{1-5} \cline{7-8} 
Cat@bzip2    & 2.4386345    & 2.6056928    & 0         & 0.0501223 &                     & 3.1076937           & 2.2385216           \\ \cline{1-5} \cline{7-8} 
cp@bzip2     & 2.4250186    & 2.5741534    & 0.0501223 & 0         &                     & 3.0771376           & 2.2355895           \\ \cline{1-5} \cline{7-8} 
dd@bzip2     & 5.0252066    & 4.2494446    & 4.0022146 & 3.9707719 &                     & 4.6279707           & 5.2554733           \\ \cline{1-5} \cline{7-8} 
Grep@bzip2   & 1.2525575    & 0.5336179    & 3.1080279 & 3.0776579 &                     & 0.0149488           & 1.817609            \\ \cline{1-5} \cline{7-8} 
Gzip@bzip2   & 0.5760883    & 1.6706953    & 2.4515783 & 2.4493552 &                     & 1.8264631           & 0.2241569           \\ \cline{1-5} \cline{7-8} 
Bzip2 @crypt & 0.2172969    & 0.9282131    & 2.4547679 & 2.4370193 &                     & 1.084986            & 0.7486825           \\ \cline{1-5} \cline{7-8} 
Crypt @crypt & 1.2447313    & 0.2841369    & 2.515042  & 2.4800047 &                     & 0.6798471           & 1.7234778           \\ \cline{1-5} \cline{7-8} 
Cat @ crypt  & 2.4081187    & 2.459687     & 0.3298372 & 0.2815878 &                     & 2.9627743           & 2.2731623           \\ \cline{1-5} \cline{7-8} 
cp @ crypt   & 2.4135763    & 2.4695297    & 0.3190288 & 0.2710900 &                     & 2.9724883           & 2.2758141           \\ \cline{1-5} \cline{7-8} 
dd @ crypt   & 5.0868376    & 4.2942036    & 4.0676885 & 4.0352312 &                     & 4.6669795           & 5.3238229           \\ \cline{1-5} \cline{7-8} 
Grep @ crypt & 1.2926098    & 0.5070597    & 3.0493338 & 3.0172721 &                     & 0.1672786           & 1.8466285           \\ \cline{1-5} \cline{7-8} 
Gzip @ crypt & 0.4752394    & 1.4734599    & 2.1522185 & 2.1460257 &                     & 1.7091792           & 0.1684164           \\ \cline{1-5} \cline{7-8} 
\multicolumn{5}{|c|}{\multirow{2}{*}{…}}                           &                     & \multicolumn{2}{c|}{\multirow{2}{*}{...}} \\
\multicolumn{5}{|c|}{}                                             &                     & \multicolumn{2}{c|}{}                     \\ \cline{1-5} \cline{7-8} 
Grep @ gzip  & 1.2633136    & 0.5302071    & 3.1076937 & 3.0771376 &                     & 0                   & 1.8279515           \\ \cline{1-5} \cline{7-8} 
Gzip @ gzip  & 0.5690718    & 1.6175143    & 2.2385216 & 2.2355895 &                     & 1.8279515           & 0                   \\ \hline
\end{tabular}}
\end{table}

 A similaridade entre o ponto desejado e um ponto dentro do conjunto dos mais próximos é definida como o inverso da distância. Então, foi calculado o peso de cada dado no conjunto dos mais próximos proporcional a similaridade:

\begin{equation}
\label{eq:prediction} 
w_i = s_i / \sum\limits_{i=1}^{N}s_i
\end{equation}

Onde S\textsubscript{i} é a similaridade de uma aplicação i dentro do conjunto dos mais próximos. Por fim, a predição da pontuação de U@Bn foi calculada com a seguinte fórmula:

\begin{equation}
\label{eq:simi} 
NS(U@Bn) = \sum\limits_{i=1}^{N}w_i \cdot NS(i)
\end{equation}

\subsection{Análise de Regressão Linear e Polinomial}
Análise de regressão é uma técnica estatística que tem como intuito analisar a relação entre uma única variável dependente (critério) e várias variáveis independentes (preditoras), possibilitando assim, apartir dos valores conhecidos das variáveis independentes X\textsubscript{1}, X\textsubscript{2}, ..., X\textsubscript{n} a predição do valor da variável dependente Y \cite{hair}. Uma forma clássica da análise de regressão é a regressão linear, que por vez declara que a variável dependente Y é uma função linear das variáveis independentes. Assim, sua formulação é feita da seguinte maneira \cite{johnson1988}:

\begin{equation}
\label{eq:linear} 
 \overline{Y} = a_0 + a_1 \cdot X_1 + a_2 \cdot X_2 + ... + a_n \cdot X_n
\end{equation}

Dessa forma, a regressão linear tem como objetivo determinar os coeficientes a\textsubscript{0}, a\textsubscript{1}, ... , a\textsubscript{n}, utilizando para isso o método dos mínimos quadrados, de modo a minimizar o erro |\textoverline{Y} - Y| \cite{koh2007}. Por mais que a regressão linear seja amplamente utilizada, sua forma clássica pode ainda assim não ser suficiente para explicar uma boa quantidade de dados, principalmente aqueles que apresenta um padrão não linear \cite{pantula}. Desse modo, uma outra forma de análise de regressão é a regressão polinomial que se modela a partir de uma função polinomial, e tem como proposta desenvolver aproximações para relações curvilíneas ou não lineares. Os polinômios são transformações de pontência de uma variável independente que acrescentam uma componente não-linear para cada pontência adicional da variável independente. A construção de seu modelo procede da seguinte maneira \cite{hair}:

\begin{equation}
\label{eq:polinomio} 
 \overline{Y} = a_0 + a_1 \cdot X_1 + a_2 \cdot X^2 + a_3 \cdot X^3 + ... + a_n \cdot X^n
\end{equation}

As Tabelas \ref{tab:coeficiente_linear} e \ref{tab:coeficiente_poli} apresentam os coeficentes encontrados para regressao linear e regresssao polinomial respectivamente.
\begin{table}[!htb]
\centering
\caption{Tabela de coeficientes para regressão linear}
\label{tab:coeficiente_linear}
\begin{tabular}{|l|c|}
\hline
\multicolumn{1}{|c|}{X}   & \multicolumn{1}{l|}{Coeficientes} \\ \hline
write\_issued & 3,44                             \\ \hline
read\_issued  & 1,29                             \\ \hline
write\_time   & -1,37                            \\ \hline
read\_time    & -3,91                            \\ \hline
cpu\_util     & 5,15                             \\ \hline
a\textsubscript{0}           & 4,99                             \\ \hline
\end{tabular}
\end{table}

\begin{table}[]
\centering
\caption{Tabela de coeficientes para regressão polinomial}
\label{tab:coeficiente_poli}
\begin{tabular}{|c|c|c|c|}
\hline
\multicolumn{1}{|l|}{Variável} & \multicolumn{1}{l|}{Coeficientes} & \multicolumn{1}{l|}{Variável} & \multicolumn{1}{l|}{Coeficientes} \\ \hline
x\textsubscript{1}                             & -6,26E-03                        & $x\textsubscript{1} \cdot x\textsubscript{4}$                         & 4,27E-05                         \\ \hline
x\textsubscript{1}\textsuperscript{2}                            & 1,26E-05                         & $x\textsubscript{2} \cdot x\textsubscript{4}$                       & -7,23E-05                        \\ \hline
x\textsubscript{2}                             & 1,49E-03                         & $x\textsubscript{3} \cdot x\textsubscript{4}$                                                & -4,00E-05                        \\ \hline
$x\textsubscript{1} \cdot x\textsubscript{2}$                          & 1,60E-05                         & x\textsubscript{4}\textsuperscript{2}                           & 3,13E-05                         \\ \hline
x\textsubscript{2}\textsuperscript{2}                            & 2,42E-06                         & x\textsubscript{5}                            & -1,17E-02                        \\ \hline
x\textsubscript{3}                             & 1,20E-02                         & $x\textsubscript{1} \cdot x\textsubscript{5}$                                                                       & 6,42E-05                         \\ \hline
$x\textsubscript{1} \cdot x\textsubscript{3}$                        & -2,39E-05                        & $x\textsubscript{2} \cdot x\textsubscript{5}$                                                                       & -1,60E-05                        \\ \hline
$x\textsubscript{2} \cdot x\textsubscript{3}$                          & -3,48E-05                        & $x\textsubscript{3} \cdot x\textsubscript{5}$                                                                       & -1,26E-04                        \\ \hline
x\textsubscript{3}\textsuperscript{2}                            & -5,93E-06                        &$ x\textsubscript{4} \cdot x\textsubscript{5}$                                                                       & 1,08E-04                         \\ \hline
x\textsubscript{4}                             & -9,41E-03                        & x\textsubscript{5}\textsuperscript{2}                         & 1,03E-04                         \\ \hline
\end{tabular}
\end{table}

Vale acrescentar que na análise de regressão um dos mecanismos utilizadas para verificação da precisão de um modelo preditivo é o coeficiente de Derterminação (R\textsuperscript{2}). Seu valor varia de 0 a 1, indicando, em termos de porcentagem, o quanto um modelo conseguie explicar os valores observados. Assim, se o R\textsuperscript{2} é 0,70 isso significa que 70\% dos dados coletados são explicados pelo modelo preditivo calculado. O cálculo de R\textsuperscript{2} é motrada na equação \ref{eq:polinomio}

\begin{equation}
\label{eq:polinomio}  
R^2 = \frac{ \sum\limits_{i=1}^{N}(\hat{y}_i - \overline{y})^2}{\sum\limits_{i=1}^{N}(y_i - \overline{y})^2}
\end{equation} 

onde \textoverline{y} é a média de todas as observações, y\textsubscript{i} é o valor da observação individual i e \^{y}\textsubscript{i} é o valor previsto da observação i \cite{hair}.

Neste trabalho foram aplicadas tanto a análise de regressão linear quanto a análise de regressão polinomial, definindo como variável dependente a pontuação normalizada e como variáveis independentes as métricas de desempenho a nível de sistema. Os dados coletados, com os valores das métricas de desempenho a nível de sistema e com as pontuações normalizadas, foram utilizados para a  determinação dos coeficientes. Uma vez que os coeficientes foram calculados utilizando o método dos mínimos quadrados, aplica-se os dados das métricas de desempenho a nível de sistema na equação com os coeficientes obtidos, alcançando dessa forma a predição da pontuação normalizada. Por fim, Também são calculados os valores de R\textsuperscript{2}, a fim de verificar qual modelo apresenta maior aplicabilidade dentro dos dados coletados. Os resultados dessas análises são apresentados na Seção \ref{sec:performance_predict}.

\section{Análise de Resultados}
\label{cap:resultados}
%Neste capítulo são apresentados os resultados encontrados a partir dos três experimentos efetuados.%Primeiro são apresentados os resultados encontrados  nos três experimentos, sendo assim feita uma análise da interferência nos mesmos. Em seguida é feita uma análise estatistica do experimento três sendo assim abordada, a questão da predição de desempenho

\subsection{Interferência de Desempenho}
\label{sec:exp2}
%No segundo experimento foi construída uma matriz \textit{nxn} com as combinações possíveis das aplicações sendo executadas tanto quanto \textit{Background } como \textit{Foreground}. Desse modo, contou-se com mais combinações de resultados sendo possível observar se existia ou não um padrão de degradação dado o tipo de aplicação que estava sendo executada. A figura \ref{second_experiment} apresenta esses resultados. %Para apresentação desses resultados, foram selecionadas as ferramentas que tiveram resultados mais significativos seja no sentido de ter proporcionado interferência ou não. A figura \ref{second_experiment} apresenta esses resultados.
A Figura \ref{second_experiment} apresenta a pontuação normalizada de um conjunto de aplicações. É possível observar que de maneira geral algumas aplicações tendem a sofrer e a causar menos interferência do que outras aplicações. É o caso de \textit{add\_double}, \textit{cachebench}, \textit{make} e \textit{povray}. Não por acaso, são ferramentas que não possuem perfis de cargas de trabalho voltados para operações de \textit{entrada/saída} ( \textit{add\_double} possui perfil voltado para \textit{cpu}, \textit{make} e \textit{povray} possuem perfil misto mas mais voltado para operações em \textit{cpu} do que de \textit{entrada/saída} e \textit{cachebench} é mais voltado para operações no sistema de memória).

\begin{figure}[!h]
\centering
\includegraphics [keepaspectratio=true,scale=0.3]{graficos/exp_2_foreground.eps}
\caption{Pontuação normalizada contra um conjunto de aplicações}
\label{second_experiment}
\end{figure} 

 

Assim, nota-se que essas aplicações, por possuírem um perfil de carga de trabalho voltado mais para \textit{cpu} e memória (no caso do \textit{cachebench}), praticamente não interferem em aplicações que possuem um perfil voltado para \textit{operações de entrada/saída} e nem mesmo sofrem interferência significativa desse tipo de aplicações. Como pode ser observado, por exemplo, os resultados apresentados na execução de \textit{povray} contra um conjunto de ferramentas, na Figura \ref{second_experiment}. Nota-se que a pontuação de \textit{povray} contra esse conjunto de aplicações ficou próxima de 1 o que indica o grau de interferência bastante insignificante, o mesmo ocorrendo com \textit{add\_double}.

No caso do \textit{cachebench}, mesmo tendo sido uma das ferramentas que menos sofreu interferência, percebe-se um grau de interferência mais elevado do que das outras duas (\textit{povray} e \textit{add\_double}), isso se deve ao fato que o sistema de memória acaba atuando principalmente em operações de \textit{cache} tanto em aplicações com perfil voltado para \textit{cpu} quanto em aplicações com perfil voltado para operações de \textit{entrada/saída}.

Para o restante das aplicações, observa-se um grau de interferência maior e com mais variações dependendo da aplicação que está sendo executada em \textit{background}. Essas aplicações, são típicas aplicações de \textit{entrada/saída}, com suas cargas de trabalho atuando em operações de escrita ou leitura em disco. Observa-se por exemplo, que \textit{dd} e \textit{cp} são as aplicações que causam maior degradação no desempenho das aplicações voltadas para \textit{entrada/saída}. Dessa forma  em uma das combinações apresentadas mostra que, executando \textit{Bzip2} contra \textit{dd}, a pontuação fica abaixo de 0.4, evidenciando um elevado grau de degradação.

Dada a variação de interferência de desempenho entre essas aplicações, vale ressaltar alguns casos. Entre eles, destaca-se por exemplo que a pontuação alcançada de \textit{gzip} e \textit{bzip2} contra \textit{grep} indica um grau de degradação de desempenho pequeno ou praticamente nulo. Em contrapartida, a pontuação alcançada por \textit{cp}, \textit{cat} e \textit{dd} contra \textit{grep}, mostram uma degradação do desempenho maior se comparada com \textit{gzip} e \textit{bzip2} contra \textit{grep}. Indicando, dessa forma que mesmo dentre as aplicações típicas de \textit{entrada/saída} pode haver um padrão de interferência dado o seu tipo de execução( escrita ou leitura). 

\subsection{Predição de Desempenho}
\label{sec:performance_predict} 
Essa Seção tem como intuito apresentar os resultados obtidos com aplicação dos mecanismos de predição. Além da média ponderada com análise de componente principal e regressão linear ( mecanismos aplicados no trabalho de \cite{koh2007}), também fora aplicado a regressão polinomial%. Os mecanismos de predição foram aplicados em cima dos dados coletados das métricas de desempenho a nível de sistema e da pontuação normalizada das aplicações. Esperava-se, com isso, predizer a pontuação normalizada de uma aplicação a partir dos valores alcançados nas métricas de desempenho a nível de sistema. 

A Figura \ref{mean_predict} apresenta um comparativo dos resultados alcançados utilizando a média ponderada com os valores reais da pontuação normalizada. Observa-se que no geral de fato o modelo é capaz de predizer com certa precisão. Observa-se, por exemplo, Bzip2 @ Bzip2 e Crypt @ Cat que os erros de predição obtidos foram 0,68\% e 0,13\% respectivamente. Entretanto, há alguns casos que há uma discrepância relevante como por exemplo Crypt @ Grep ao qual o erro de predição foi de 41,5\%.
   
\begin{figure}[!htb]
\centering
\includegraphics [keepaspectratio=true,scale=0.5]{graficos/mean_predict.eps}
\caption{Comparativo entre a pontuação normalizada real e a pontuação predita utilizando média ponderada com o aúxilio da análise por componente principal.}
\label{mean_predict}
\end{figure}   

 %A tabela \ref{tab:coeficiente_linear} apresenta os coeficientes encontrados para regressão linear.


\begin{figure}[!htb]
\centering
\includegraphics [keepaspectratio=true,scale=0.5]{graficos/linear.eps}
\caption{Comparativo entre a pontuação normalizada real e a pontuação predita utilizando regressão linear.}
\label{linear_predict}
\end{figure}   

A Figura \ref{linear_predict} apresenta os resultados da predição utilizando regressão linear. Nota-se que em muitos casos os valores preditos pela regressão linear possuem uma diferença maior para os valores reais do que na predição feita por média ponderada. Assim, enquanto que Gzip @ Cat e bzip2 @ cp obteve uma taxa de erro de 7,92\% e 1 ,65\% respectivamente na predição utilizando média ponderada, na análise de regressão linear esse valores foram de 53,6\% e 31,4\%. Mas ainda assim, para alguns casos, o modelo de regressão linear conseguiu prever com uma taxa de erro mais baixa como por exemplo em dd @ gzip e crypt @ cat, em que as taxas de erros da predição foram de 1,25\% e 5,67\% respectivamente.

Nos resultados apresentados na Figura \ref{poli_predict} percebe-se que dentre os três modelos, a regressão polinomial é a que obtém valores de predição com menores taxas de erro. Assim, enquanto que Crypt @ Grep obteve uma taxa de erro de 41,5\% utilizando a média ponderada como modelo de predição, na análise de regressão polinomial essa taxa de erro foi de 3,92\%. Dentre os resultados apresentados na Figura \ref{poli_predict}, Cat @ dd foi o que obteve maior taxa de erro, 19,5\%. 

\begin{figure}[!htb]
\centering
\includegraphics [keepaspectratio=true,scale=0.5]{graficos/poli.eps}
\caption{Comparativo entre a pontuação normalizada real e a pontuação predita utilizando regressão polinomial.}
\label{poli_predict}
\end{figure}  

A partir disso, a fim de verificar a qualidade dos modelos de regressão aplicados, foi calculado o coeficiente de Determinação R\textsuperscript{2} tanto para a regressão linear quanto para a regressão polinomal. Dessa forma, a regressão linear apresentou um coeficiente de determinação de 80,3\% enquanto que a regressão polinomial atingiu um índice de 96,6\%, demonstrando que assim como havia sido observado nos gráficos de predição, que a regressão polinomial é o modelo mais adequado para a predição de desempenho dos dados se comparada com a regressão linear.   

Como comparativo para os três modelos de predição foram calculados a média, mediana e o maior erro de predição para todos os modelos. As Figuras \ref{mean_error}, \ref{linear_error} e \ref{polinomial_error} apresenta esses resultados.

\begin{figure}[!htb]
\centering
\includegraphics [keepaspectratio=true,scale=0.5]{graficos/mean_error.eps}
\caption{Média, mediana e erro máximo da predição de desempenho com o método da média ponderada}
\label{mean_error}
\end{figure}  

\begin{figure}[!htb]
\centering
\includegraphics[width=.5\textwidth]{graficos/linear_error.eps}
\caption{Média, mediana e erro máximo da predição de desempenho com regressão linear}
\label{linear_error}
\end{figure}  

\begin{figure}[!htb]
\centering
\includegraphics[width=.5\textwidth]{graficos/polinomial_error.eps}
\caption{Média, mediana e erro máximo da predição de desempenho com regressão polinomial}
\label{polinomial_error}
\end{figure}  

%Os resultados para o método da média ponderada mostram que a média de erro para a maioria das aplicações ficaram abaixo de 10\%, com exceção de dd e gzip, que possuem 22\% e 12\% respectivamente. Inclusive dd é aplicação que também alcançou o pior resultado para o erro máximo, apresentando um valor de 65\%. A mediana para a maioria das aplicações apresentou um valor abaixo de 6\% com exceção de dd, cujo o valor foi de 10,7\%. De maneira geral, os resultados alcançados mostram que a média de erro e a mediana para esse método obtiveram valores de 10,9\% e 5,4\% respectivamente. Se comparado com o artigo de \cite{koh2007}, cujo os valores para média de erro e mediana foram 5,0\% e 2,3\%, a predição utilizando média ponderada obteve uma piora nos resultados para este trabalho. Entretanto, vale salientar que a quantidade de ferramentas utilizadas teve um número mais baixo se comparado com o artigo e \cite{koh2007}. Dessa forma, a variação de desempenho neste trabalho pode ter tido maior impacto nos resultados, dado o número mais restrito de aplicações utilizadas. 

Assim como no trabalho de \cite{koh2007}, se comparado com a média ponderada, a regressão linear apresenta resultados inferiores relacionados a predição. Tanto para média, mediana e erro máximo, em todas as aplicações, as taxas tiveram um aumento. Demonstrando assim, uma precisão mais baixa no que diz respeito a predição de desempenho. No geral, a média de erros para todos os dados alcançou um resultado de 13,5\% e a mediana 8,8\%. Segundo \cite{koh2007}, uma das possibilidades para explicar o motivo da regressão linear não alcançar resultados favoráveis para predição, pode tá relacionado com o fato de que a correlação entre as métricas de desempenho a nível de sistema e a pontuação normalizada de uma aplicação não é linear. 

Dessa forma, a regressão polinomial, que tem como intuito de aplicar ajustes mais aproximados, fora aplicado neste trabalho a fim de se verificar sua eficácia na predição de desempenho no conjunto de dados coletados. Além dos dados já apresentados na Figura \ref{poli_predict} e no cálculo do coeficiente de determinação R \textsuperscript{2} os valores da média, mediana e erro máximo apresentados na Figura \ref{polinomial_error}, comprovam que a regressão polinomial obtém resultados melhores para predição se comparada com os modelos anteriores. Assim, de maneira geral a média de erro para todos os resultados alcançou um valor de 5\% e de mediana 2,7\%. 

\section{Conclusão}

Os resultados alcançados permitem concluir que as tecnologias atuais de virtualização e de computação em nuvem, não garantem um isolamento efetivo entre máquinas virtuais em um mesmo servidor físico. A tendência é que aplicações que possem perfil voltado para operações em disco interferem de maneira significativa no desempenho outras aplicações  com o mesmo perfil, quando executadas em máquinas virtuais diferentes. Aplicações com o perfil voltado para \textit{cpu} interferem muito pouco contra aplicações com o perfil voltado para aplicações em disco e vice-versa.

A partir dos dados coletados, foram aplicados modelos estatísticos a fim de obter a predição de desempenho de uma aplicação a partir das métricas de desempenho a nível de sistema. Assim como no trabalho de \cite{koh2007}, a média ponderada com o auxílio da análise por componente principal obteve resultados melhores se comparada com a regressão linear. Dessa forma, aplicou-se o modelo regressão polinomial que, mesmo sendo ainda um modelo de regressão linear, tende a realizar ajustes mais aproximados do que o tão restrito modelo de regressão linear. Os resultados demonstraram que a regressão polinomial alcança resultados melhores para a predição de desempenho se comparada com a média ponderada, obtendo uma média de erro de 5\% para o \textit{hardware} utilizado neste trabalho.

Um ponto que pode ser considerado uma limitação deste trabalho é que não foi possível avaliar a degradação de desempenho entre aplicações com o perfil voltado para utilização de \textit{cpu}. Entende-se que para as configurações de \textit{hardware} do servidor utilizado neste estudo, são necessárias um número maior de máquinas virtuais executando \textit{benchmarking} de \textit{cpu}, ao mesmo tempo, para que fosse possível observar algum tipo de interferência e degradação em seus desempenhos.

Os procedimentos adotados por este trabalho promovem algumas posssibilidades para trabalhos futuros. Dessa forma, um dos caminhos que podem ser adotados consiste em um comparativo entre os diversos tipos de \textit{hypervisors} utilizados, levando-se em conta a técnica de virtualização utilizada: paravirtualização e virtualização total, de modo que se possa avaliar qual tipo de ferramenta dado a técnica de virtualização trata melhor a interferência de desempenho entre as máquinas virtuais.

% needed in second column of first page if using \IEEEpubid
%\IEEEpubidadjcol

% An example of a floating figure using the graphicx package.
% Note that \label must occur AFTER (or within) \caption.
% For figures, \caption should occur after the \includegraphics.
% Note that IEEEtran v1.7 and later has special internal code that
% is designed to preserve the operation of \label within \caption
% even when the captionsoff option is in effect. However, because
% of issues like this, it may be the safest practice to put all your
% \label just after \caption rather than within \caption{}.
%
% Reminder: the "draftcls" or "draftclsnofoot", not "draft", class
% option should be used if it is desired that the figures are to be
% displayed while in draft mode.
%
%\begin{figure}[!t]
%\centering
%\includegraphics[width=2.5in]{myfigure}
% where an .eps filename suffix will be assumed under latex, 
% and a .pdf suffix will be assumed for pdflatex; or what has been declared
% via \DeclareGraphicsExtensions.
%\caption{Simulation Results}
%\label{fig_sim}
%\end{figure}

% Note that IEEE typically puts floats only at the top, even when this
% results in a large percentage of a column being occupied by floats.


% An example of a double column floating figure using two subfigures.
% (The subfig.sty package must be loaded for this to work.)
% The subfigure \label commands are set within each subfloat command, the
% \label for the overall figure must come after \caption.
% \hfil must be used as a separator to get equal spacing.
% The subfigure.sty package works much the same way, except \subfigure is
% used instead of \subfloat.
%
%\begin{figure*}[!t]
%\centerline{\subfloat[Case I]\includegraphics[width=2.5in]{subfigcase1}%
%\label{fig_first_case}}
%\hfil
%\subfloat[Case II]{\includegraphics[width=2.5in]{subfigcase2}%
%\label{fig_second_case}}}
%\caption{Simulation results}
%\label{fig_sim}
%\end{figure*}
%
% Note that often IEEE papers with subfigures do not employ subfigure
% captions (using the optional argument to \subfloat), but instead will
% reference/describe all of them (a), (b), etc., within the main caption.


% An example of a floating table. Note that, for IEEE style tables, the 
% \caption command should come BEFORE the table. Table text will default to
% \footnotesize as IEEE normally uses this smaller font for tables.
% The \label must come after \caption as always.
%
%\begin{table}[!t]
%% increase table row spacing, adjust to taste
%\renewcommand{\arraystretch}{1.3}
% if using array.sty, it might be a good idea to tweak the value of
% \extrarowheight as needed to properly center the text within the cells
%\caption{An Example of a Table}
%\label{table_example}
%\centering
%% Some packages, such as MDW tools, offer better commands for making tables
%% than the plain LaTeX2e tabular which is used here.
%\begin{tabular}{|c||c|}
%\hline
%One & Two\\
%\hline
%Three & Four\\
%\hline
%\end{tabular}
%\end{table}


% Note that IEEE does not put floats in the very first column - or typically
% anywhere on the first page for that matter. Also, in-text middle ("here")
% positioning is not used. Most IEEE journals use top floats exclusively.
% Note that, LaTeX2e, unlike IEEE journals, places footnotes above bottom
% floats. This can be corrected via the \fnbelowfloat command of the
% stfloats package.




% if have a single appendix:
%\appendix[Proof of the Zonklar Equations]
% or
%\appendix  % for no appendix heading
% do not use \section anymore after \appendix, only \section*
% is possibly needed

% use appendices with more than one appendix
% then use \section to start each appendix
% you must declare a \section before using any
% \subsection or using \label (\appendices by itself
% starts a section numbered zero.)
%


% Can use something like this to put references on a page
% by themselves when using endfloat and the captionsoff option.
\ifCLASSOPTIONcaptionsoff
  \newpage
\fi



% trigger a \newpage just before the given reference
% number - used to balance the columns on the last page
% adjust value as needed - may need to be readjusted if
% the document is modified later
%\IEEEtriggeratref{8}
% The "triggered" command can be changed if desired:
%\IEEEtriggercmd{\enlargethispage{-5in}}

% references section

% can use a bibliography generated by BibTeX as a .bbl file
% BibTeX documentation can be easily obtained at:
% http://www.ctan.org/tex-archive/biblio/bibtex/contrib/doc/
% The IEEEtran BibTeX style support page is at:
% http://www.michaelshell.org/tex/ieeetran/bibtex/
%\bibliographystyle{IEEEtran}
% argument is your BibTeX string definitions and bibliography database(s)
%\bibliography{IEEEabrv,../bib/paper}
%
% <OR> manually copy in the resultant .bbl file
% set second argument of \begin to the number of references
% (used to reserve space for the reference number labels box)
%\begin{thebibliography}{1}

%\bibitem{IEEEhowto:kopka}
%H.~Kopka and P.~W. Daly, \emph{A Guide to \LaTeX}, 3rd~ed.\hskip 1em plus
%  0.5em minus 0.4em\relax Harlow, England: Addison-Wesley, 1999.

%\end{thebibliography}

% biography section
% 
% If you have an EPS/PDF photo (graphicx package needed) extra braces are
% needed around the contents of the optional argument to biography to prevent
% the LaTeX parser from getting confused when it sees the complicated
% \includegraphics command within an optional argument. (You could create
% your own custom macro containing the \includegraphics command to make things
% simpler here.)
%\begin{biography}[{\includegraphics[width=1in,height=1.25in,clip,keepaspectratio]{mshell}}]{Michael Shell}
% or if you just want to reserve a space for a photo:

%\begin{IEEEbiography}[{\includegraphics[width=1in,height=1.25in,clip,keepaspectratio]%%{picture}}]{John Doe}
%\blindtext
%\end{IEEEbiography}

% You can push biographies down or up by placing
% a \vfill before or after them. The appropriate
% use of \vfill depends on what kind of text is
% on the last page and whether or not the columns
% are being equalized.

%\vfill

% Can be used to pull up biographies so that the bottom of the last one
% is flush with the other column.
%\enlargethispage{-5in}
\bibliographystyle{IEEEtran}
\bibliography{IEEEabrv,sbc-template}


% that's all folks
\end{document}


